 <div><table cellpadding="0" cellspacing="10" border="0" align="center" valign="top">
  <col WIDTH=100%>
	<tr><td><img src="../../../images/openssographic.jpg" width="165" height="65" border="0" alt="OpenSSO"></td></tr>
	<tr><td><h2>FAQ Build and Installation</h2></td></tr>
	<tr><td>The information below was taken from the README located in the <code>products/amserver</code> directory of the <code>opensso</code> branch of the CVS tree. Please see the README for additional information. You can find it <a href="https://opensso.dev.java.net/source/browse/opensso">here</a>.</td></tr>
	<tr><td><font size="2">
<ol>
<li><a href="#buildreq">What are the build requirements?</a></li>
<li><a href="#libdep">What are the library dependencies?</a></li>
<li><a href="#j2ee">How do I get <code>j2ee.jar</code>?</a></li>
<li><a href="#mail">How do I get <code>mail.jar</code>?</a></li>
<li><a href="#jwsdp">How do I get <code>jaxb-api.jar</code> and <code>jaxrpc-api.jar</code>?</a></li>
<li><a href="#ldapjdk">How do I get <code>ldapjdk.jar</code>?</a></li>
<li><a href="#db">How do I get <code>db.jar</code>?</a></li>
<li><a href="#information">Where do I find information about setting up the environment, getting the right tools, and actually building the source?</a></li>
<li><a href="#built">Now that I've built the code, what do I do?</a></li>
<li><a href="#participate">How do I participate in the communities?</a></li>
<li><a href="#bug">How do I report a bug?</a></li>
<li><a href="#securitybug">How do I report a security bug?</a></li>
<li><a href="#changes">How do I make changes to files in the source?</a></li>
</ol>
</font></td></tr>
<tr><td><p><b>Q:<b><a name="buildreq"></a> What are the build requirements?</b></b></p>

<p> The OpenSSO workspace uses Apache Ant as the build tool. The build scripts in the workspace use features not present in release of Ant prior to 1.6. Thus, in order to build the workspace you must have Ant version 1.6 or above installed and available in your system path.</p>

<p>
The sources in this workspace should be compiled using JDK 5.0 with the source and target levels set to <b>1.4</b>. In order to allow this, you must ensure that JDK 5.0 is available in your system path and the JAVA_HOME environment variable is setup correctly, pointing to its location.
</p></td></tr>

<tr><td><p><b>Q:<b><a name="libdep"></a> What are the library dependencies?</b></b></p>

The OpenSSO sources depend upon several third-party libraries that are not included as a part of the workspace and must be obtained directly from the vendor or distributor. Some of these libraries are available in source distribution form and must be built locally before they can be used. The libraries needed for compiling OpenSSO sources are:

<ul>
<li>J2EE SDK version 1.3.1: <code>j2ee.jar</code></li>
<li>Java Mail version 1.2: <code>mail.jar</code></li>
<li>JWSDP version 1.6: <code>jaxb-api.jar</code>, <code>jaxrpc-api.jar</code></li>
<li>Mozilla LDAP JDK version 4.17: <code>ldapjdk.jar</code></li>
<li>SleepyCat Berkeley DB version 4.2.52: <code>db.jar</code></li>
</ul>

<p>Once these libraries are available, they should be placed under the <code>extlib</code> directory of the workspace. Any library placed in this directory is automatically included in the classpath during the compilation phase of the build process.</p>

<p>The following sections briefly describe how these libraries may be obtained. These instructions are provided for your convenience only and are not intended to replace or invalidate the procedures/guidelines set by the library vendor or distributor. Before following these instructions, you must agree to abide by any terms and conditions set forth by the library vendor or distributor. In case any of these instructions are in contradiction to such terms or conditions, you must disregard those instructions and instead follow the ones provided by the library vendor or distributor in accordance with their terms and conditions.
</p></td></tr>

<tr><td><p><b>Q:<b><a name="j2ee"></a> How do I get <code>j2ee.jar</code>?</b></b></p>

<p>The <code>j2ee.jar</code> library can be obtained from J2EE SDK version 1.3.1. Use the following procedure to get the SDK and extract the JAR.

<ol>
<li>Go to <a href="http://java.sun.com/j2ee/sdk_1.3">http://java.sun.com/j2ee/sdk_1.3</a>.</li>
<li>Scroll down to the section titled <b>Download the Software for the Java 2 SDK, Enterprise Edition 1.3.1</b> and click Download.</li>
<li>Review the license agreement on the resulting page and choose <i>Accept</i> or <i>Decline</i>.</li>
<li>If you chose <i>Accept</i>, you can download any one of the available distributions, dependent on your platform.</li>
<li>Extract and install the downloaded file as necessary to make the SDK available on your system.</li>
<li>Once the J2EE SDK is installed, get the <code>j2ee.jar</code> file from the <code>lib</code> directory.</li>
</ol>

</p></td></tr>

<tr><td><p><b>Q:<b><a name="mail"></a> How do I get <code>mail.jar</code>?</b></b></p>

<p>The <code>mail.jar</code> library can be obtained from the JavaMail API version 1.2. Use the following procedure to get the JavaMail API:

<ol>
<li>Go to <a href="http://java.sun.com/products/javamail/javamail-1_2.html">http://java.sun.com/products/javamail/javamail-1_2.html</a>.</li>
<li>Click Download.</li>
<li>Review the license agreement on the resulting page and choose <i>Accept</i> or <i>Decline</i>.</li>
<li>If you chose <i>Accept</i>, download the <code>javamail-1_2.zip</code> file.</li>
<li>Extract the contents of the file into a convenient location.</li>
<li>Get the <code>mail.jar</code> from the <code>javamail-1_2</code> directory of the expanded image of the downloaded file.</li>
</ol>

</p></td></tr>

<tr><td><p><b>Q:<b><a name="jwsdp"></a> How do I get <code>jaxb-api.jar</code> and <code>jaxrpc-api.jar</code>?</b></b></p>

<p>The <code>jaxb-api.jar</code> and <code>jaxrpc-api.jar</code> libraries can be obtained from the JWSDP version 1.6. Use the following procedure to get the JWSDP 1.6:

<ol>
<li>Go to <a href="http://java.sun.com/webservices/downloads/webservicespack.html">http://java.sun.com/webservices/downloads/webservicespack.html</a>.</li>
<li>Click Download.</li>
<li>You will have to log in to (or register with) the Sun Developer Network on the resulting page.</li>
<li>Once you have logged in, review the license agreement and choose <i>Accept</i> or <i>Decline</i>.</li>
<li>If you chose <i>Accept</i>, you can download any one of the available distributions, dependent on your platform.</li>
<li>Install the downloaded file.</li>
<li>After installation, <code>jaxb-api.jar</code> is located in <code><i>jwsdp_install_directory</i>/jaxb/lib</code> and <code>jaxrpc-api.jar</code> is in <code><i>jwsdp_install_directory</i>/jaxrpc/lib</code>.</li>
</ol>

</p></td></tr>

<tr><td><p><b>Q:<b><a name="ldap"></a> How do I get <code>ldapjdk.jar</code>?</b></b></p>

<p>The <code>ldapjdk.jar</code> library can be built using the source distribution provided by the Mozilla project. Use the following procedure to get the <code>ldapjdk.jar</code>:

<ol>
<li>Go to <a href="http://www.mozilla.org/directory/ldapsdk.html">http://www.mozilla.org/directory/ldapsdk.html</a>.</li>
<li>Download the source distribution in either the <i>zip</i> or <i>tar-gzip</i> format.</li>
<li>Extract the contents of the file into a convenient location.</li>
<li>The complete build instructions are available at <a href="http://www.mozilla.org/directory/buildjsdk-4.0.txt">http://www.mozilla.org/directory/buildjsdk-4.0.txt</a>. A copy of these instructions is also under the <code>mozilla/directory</code> directory in a file called <code>buildjsdk.txt</code>. Follow these instructions based on your platform. Note that if you are using JDK 5.0 for compilation, you will have to modify the make-files to add a -source 1.3 to the compiler definition. This is to ensure that the build does not break due to the use of newly introduced keywords (such as <code>enum</code> and <code>assert</code>) in the JDK 1.4 and JDK 5.0 releases. The rest of the instructions in this section are specific to the Unix platform.</li>
<li>Change to the <code>mozilla/directory/java-sdk</code> directory.</li>
<li>If using JDK 5.0 for compilation, open the <code>ldap.mk</code> file and modify the JAVAC variable definition to include the -source 1.3 option as follows:<p>
<code>JAVAC=$(JDKBIN)javac -O -classpath "$(JAVACLASSPATH)" -source 1.3 </p>
<p>This variable must be changed in three places.</li>
<li>Compile the sources using <code>gmake -f ldap.mk JAVA_VERSION=1.5</code>. Replace JAVA_VERSION with the value appropriate to your environment.</li>
<li>Package the compiled sources into a JAR with the command <code>gmake -f ldap.mk JAVA_VERSION=1.5 basepackage</code>. Again, replace JAVA_VERSION with the value appropriate to your environment.</li>
<li>After compilation, the <code>ldapjdk.jar</code> can be found in <code>mozilla/directory/java-sdk/dist/packages</code> directory.</li>
</ol>

</p></td></tr>

<tr><td><p><b>Q:<b><a name="participate"></a> How do I participate in the communities?</b></b></p>

<p>Communities are the primary way to focus information and discussions on particular features. The OpenSSO navigation bar has links to discussion forums you can read and email aliases you can join.
</p></td></tr>

<tr><td><p><b>Q:<b><a name="bug"></a> How do I report a bug?</b></b></p>


<p>The first step is to search Issue Tracker to see if the problem has already been reported. Anyone can search the database, but you must be a registered user to file bugs. See the Governance or click Register on the navigation bar for more information.

</p></td></tr>

<tr><td><p><b>Q:<b><a name="securitybug"></a> How do I report a security bug?</b></b></p>


<p>Handling a security vulnerability is different from handling any other kind of bug report. The bug report cannot be submitted through the regular channels as the objective is to analyze and fix the bug in secrecy, announcing the existence of the bug and its fix concurrently. 

<p>This is the OpenSSO security bug process:

<ol>
<li>Security bugs will be submitted to a private alias outside the java.net infrastructure since it is not possible to restrict a java.net mailing list archive to a tight group of subscribers. The security bug email address is: 

<p><a href="mailto:opensso-sec-bugs-ext@sun.com">opensso-sec-bugs-ext@sun.com</a></li>
<li>Subscription to the security bug alias and its archive will be tightly restricted to a small security team. At the project's inception, the security team will comprise only Module Owners.</li>
<p><li><i>Only security bugs should be sent to the security bugs alias.</i> 
<p>Undoubtedly, people will send other bugs to the alias, either deliberately, trying to circumvent the regular process, or mistakenly, believing a real security bug has been found. The security team will discuss the submitted bug and its relevance privately using the security team alias (<a href="mailto:opensso-sec-bugs-ext@sun.com">opensso-sec-bugs-ext@sun.com</a>). After a consensus has been reached, a member of the security team may reply to the submitter with a pro forma response, directing them to submit the bug to Issue Tracker using the non-security bug process.</li>
<li>Security bugs are treated as a matter of absolute urgency. The assumption is made that, if the reporter has encountered the bug, others are likely to have done the same and may already be exploiting it.</li>
<p><li>The next task after conceding the receipt of a valid security bug is for the security team to evaluate its severity:
<ol type="a">
<p><li>How serious is the vulnerability?
	<ul><li>Critical: the bug can lead to arbitrary code execution.</li>
	<li>Severe: the bug can compromise confidentiality, integrity or availability of resources.</li>
	<li>Moderate: anything else - for example, the bug exposes operational information such as number of active sessions.</li></ul></li>
<li>How easy is it to exploit the vulnerability? Is a scripted attack possible? Must the attacker successfully authenticate as a regular user before initiating an attack?</li>
<p><li>Who reported the issue? A report from a source outside the project is treated with even more urgency than one from an internal engineer.</li>
</ol></li>
<p><li>Should we put the bug on the Common Vulnerabilities and Exposures (CVE) list? 
<p>CVE is a list of standardized names for vulnerabilities and other information security exposures. It aims to standardize the names for all publicly known vulnerabilities and security exposures. CVE names (also called <i>CVE numbers</i>, <i>CVE-IDs</i>, or <i>CVEs</i>) are unique, common identifiers for publicly known information security vulnerabilities. CVE names have <b>entry</b> or <b>candidate</b> status. Entry status indicates that the CVE name has been accepted to the CVE list. Candidate status (also called <i>candidates</i>, <i>candidate numbers</i>, or <i>CANs</i>) indicates that the name is under review for inclusion to the list.</li>
<p><li>Work on the fix must proceed as quietly as possible, with discussion restricted to members of the security team. Code reviews will be performed as usual with the audience for this also restricted to the security team.</li>
<p><li>Once a fix has been produced and tested, important users will be pre-notified. These users will be allowed to apply the patch before the bug becomes public knowledge.</li>
<p><li>The fix must be announced and made available simultaneously (or as close to simultaneous as possible).</li>
</ol>
</p></td></tr>

<tr><td><p><b>Q:<b><a name="changes"></a> How do I make changes to files in the OpenSSO source?</b></b></p>

<p>A developer may resolve an issue by applying new code to files in the source tree. 

<p>This is the process for making changes to files in the OpenSSO source:
<ol>
<li>Check out the latest copy of the source files.</li>
<li>Make modifications to the appropriate files to incorporate your changes or additions.</li>
<li>Write comments to explain the changes you have made.</li>
<li>Modify the Javadoc<sup>TM</sup> comments and other appropriate documentation.</li>
<li>Build the software and verify your fix.</li>
<li>Run the relevant sanity/regression tests to make sure that the fix has not broken anything.</li>
</ol>

A <b>patch</b> is the set of differences between two versions of the same file. It is generated by running <pre>cvs diff</pre> 
which reports the differences between two versions of one or more files in the source tree. Patches are used to send someone the exact changes that were made to your version of a program or a document. The receiver of the patch can then apply it to their version of the source tree to merge the changes and bring their version up-to-date with your version. <i>All patches must be reviewed before adding them back to the source tree.</i>

<p>This is the process for submitting a patch file for review:

<ol>
<li>Create a patch file:
<ol type="a">
<li> % cd <i>checkedout_source</i></li>
<li> % cvs diff -u > <i>patch_report_name</i></li>
</ol> 

<p><li>Enter an issue in Issue Tracker that corresponds to the patch, if none exists.</li>
<p><i>Submit only one patch per issue. Do not submit a patch to fix more than one issue unless they are closely related.</i>
<p><li>Submit your patch along with the issue number to <a href="mailto:codereview@opensso.dev.java.net">codereview@opensso.dev.java.net</a>.</li>
<p><li>If approved, attach the patch file to the issue in Issue Tracker. This can be attached as a file or copied directly into the Suggested Fix field.</li>
<p><li>Send the approved patch to <a href="mailto:committers@opensso.dev.java.net">committers@opensso.dev.java.net</a> to have it applied to the source tree.</li>
<p><li>Once the patch is applied, the committer will update the issue in Issue Tracker as fixed.</li>
</ol>

<p>If you have found a critical security issue, please follow the <a href="#securitybug">guidelines for filing critical security issues</a>. 
<p>If your patch is big or you intend to develop a product enhancement, you must follow the architecture review guidelines before submitting the patch. For more information, send an email to <a href="mailto:codereview@opensso.dev.java.net">codereview@opensso.dev.java.net</a>.

</p></td></tr>

</table>

</p>

<!-- content boundary -->
</div>
