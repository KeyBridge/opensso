<?xml version='1.0' encoding='UTF-8'?>
<ui:composition
    template="template/page.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:o="http://opensso.dev.java.net">
    <ui:define name="panel-title">
        <ice:outputText value="#{resources['samlv2-hosted-sp-create.panelTitle']}"/>
    </ui:define>
    <ui:define name="panel-details">
        <ice:outputText value="#{resources['samlv2-hosted-sp-create.panelDetails']}"/>
    </ui:define>

    <ui:define name="panel-body">
        <o:wizard
            steps="5"
            wizardHandler="#{samlV2HostedSpCreateWizardHandler}"
            wizardBean="#{samlV2HostedSpCreateWizardBean}">
            <ui:define name="wizard-steps">
                <o:wstep
                    step="0"
                    label="#{resources['samlv2-hosted-sp-create.selectRealmPanelLabel']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.selectRealmPanelLabel.section-title']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.selectRealmPanelLabel.section-details']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                     <ice:panelGroup>
                                    <ice:outputLabel                                            
                                            value="#{resources['samlv2-hosted-sp-create.selectRealmPanelLabel.metaQuestionLabel']}"/>

                                        <ice:panelGroup>
                                            <ice:selectOneRadio
                                                id="MenuSelectMetaOrNoMetaRadio"
                                                partialSubmit="true"
                                                value="#{samlV2HostedSpCreateWizardBean.meta}">
                                                <f:selectItem id="meta" itemValue="true" itemLabel="Yes"/>
                                                <f:selectItem id="nometa" itemValue="false" itemLabel="No"/>
                                            </ice:selectOneRadio>
                                        </ice:panelGroup>
                                        </ice:panelGroup>
                                    <!-- Realm -->
                                    <ice:panelGroup visible="#{!samlV2HostedSpCreateWizardBean.meta}">
                                        <ice:outputLabel
                                            for="existingRealmList"
                                            value="#{resources['samlv2-hosted-sp-create.selectRealmPanelLabel.selectRealmLabel']}"/>

                                        <ice:selectOneMenu
                                            id="selectedRealm"
                                            value="#{samlV2HostedSpCreateWizardBean.selectedRealm}"
                                            partialSubmit="true">
                                            <f:selectItems
                                                value="#{samlV2HostedSpCreateWizardBean.availableRealmsList}"/>
                                        </ice:selectOneMenu>
                                    </ice:panelGroup>
                                    <!-- Realm -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="1"
                    label="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel.section-title']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel.section-details']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <!-- Metadata -->
                                    <ice:panelGroup>                            
                                        <ice:panelGroup
                                            visible="#{samlV2HostedSpCreateWizardBean.meta}">

                                            <!-- file upload example -->
                                            <ice:panelGroup styleClass="inputFileContainer">
                                                <!-- file upload  -->

                                                <ice:panelGroup>
                                                    <ice:outputLabel
                                                        for="standardMetaData"
                                                        value="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel.stdMetaLabel']}"/>

                                                    <!-- file upload usage with progress callback. -->
                                                    <ice:inputFile id="stdMetaInputFileName"
                                                                   submitOnUpload="postUpload"
                                                                   progressListener="#{samlV2HostedSpCreateWizardHandler.stdMetaFileUploadProgress}"
                                                                   actionListener="#{samlV2HostedSpCreateWizardHandler.stdMetaUploadFile}"/>
                                                    <!-- progress bar, percent value is upated via progressListener-->

                                                    <ice:outputProgress value="#{samlV2HostedSpCreateWizardBean.stdMetaFileProgress}"
                                                                        styleClass="uploadProgressBar"/>
                                                    <ice:outputText
                                                        value="#{samlV2HostedSpCreateWizardBean.stdMetaFilename}"/>
                                                </ice:panelGroup>

                                                <ice:panelGroup>
                                                    <ice:outputLabel
                                                        for="etendedMetaData"
                                                        value="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel.extMetaLabel']}"/>
                                                    <!-- file upload usage with progress callback. -->
                                                    <ice:inputFile id="extMetaInputFileName"
                                                                   submitOnUpload="postUpload"
                                                                   progressListener="#{samlV2HostedSpCreateWizardHandler.extMetaFileUploadProgress}"
                                                                   actionListener="#{samlV2HostedSpCreateWizardHandler.extMetaUploadFile}"/>
                                                    <!-- progress bar, percent value is upated via progressListener-->

                                                    <ice:outputProgress value="#{samlV2HostedSpCreateWizardBean.extMetaFileProgress}"
                                                                        styleClass="uploadProgressBar"/>
                                                    <ice:outputText
                                                        value="#{samlV2HostedSpCreateWizardBean.extMetaFilename}"/>
                                                </ice:panelGroup>                                               
                                            </ice:panelGroup>

                                            <!-- file upload example -->

                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{!samlV2HostedSpCreateWizardBean.meta}">
                                            <ice:outputLabel                                                
                                                value="#{resources['samlv2-hosted-sp-create.entityNamePanelLabel.newEntityNameLabel']}"/>
                                            <ice:inputText
                                                id="NewEntityName"
                                                value="#{samlV2HostedSpCreateWizardBean.newEntityName}"
                                                size="70"
                                                maxlength="70"/>
                                        </ice:panelGroup>
                                    </ice:panelGroup>
                                    <!-- Metadata -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="2"
                    label="#{resources['samlv2-hosted-sp-create.selectCotPanelLabel']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.selectCotPanelLabel.section-title']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.selectCotPanelLabel.section-details']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <!-- COT -->
                                    <ice:panelGroup>
                                        
                                        <ice:panelGroup>
                                            <ice:selectOneRadio
                                                id="MenuSelectNewCOTRadio"
                                                value="#{samlV2HostedSpCreateWizardBean.cot}"
                                                partialSubmit="true">
                                                <f:selectItem id="ChoiceCOT" itemValue="true" itemLabel="Choice a COT"/>
                                                <f:selectItem id="NewCOT" itemValue="false" itemLabel="New a COT"/>
                                            </ice:selectOneRadio>
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{samlV2HostedSpCreateWizardBean.cot}">                                           
                                                <ice:outputLabel                                                   
                                                    value="#{resources['samlv2-hosted-sp-create.selectCotPanelLabel.existingCotListLabel']}"/>
                                                <ice:selectOneMenu
                                                    id="selectedCot"
                                                    value="#{samlV2HostedSpCreateWizardBean.selectedCot}"
                                                    partialSubmit="true">
                                                    <f:selectItems
                                                        value="#{samlV2HostedSpCreateWizardBean.availableCotList}"/>
                                                </ice:selectOneMenu>                                            
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{!samlV2HostedSpCreateWizardBean.cot}">
                                            <ice:outputLabel                                              
                                                value="#{resources['samlv2-hosted-sp-create.selectCotPanelLabel.newCotNameLabel']}"/>
                                            <ice:inputText
                                                id="NewCotName"
                                                value="#{samlV2HostedSpCreateWizardBean.newCotName}"
                                                size="50"
                                                maxlength="50"/>
                                        </ice:panelGroup>
                                    </ice:panelGroup>
                                    <!-- COT -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="3"
                    label="#{resources['samlv2-hosted-sp-create.attributeMappingPanelLabel']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-remote-sp-create.attributeMapping.title']}"/>
                                </ui:define>
                                <ui:define name="section-details"/>                                  
                                <ui:define name="section-body">
                                    <ice:panelGroup>
                                        <ice:outputLabel
                                            value="#{resources['samlv2-remote-sp-create.attributeMapping.useDefaultAttributeMapping']}"/>
                                        <ice:selectBooleanCheckbox
                                            id="defAttrMappings"
                                            value="#{samlV2HostedSpCreateWizardBean.defAttrMappings}"/>
                                    </ice:panelGroup>
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="4"
                    label="#{resources['samlv2-hosted-sp-create.summaryPanelLabel']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.summaryPanelLabel.section-title']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-sp-create.summaryPanelLabel.section-details']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <!-- summary -->
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.realmSamlV2CreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.entityNameSamlV2CreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.stdMetadataNameSamlV2CreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.extMetadataNameSamlV2CreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.cotSamlV2CreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2HostedSpCreateWizardBean.defAttrMappingsSamlV2CreateSummary}"/>
                                    <!-- summary -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
            </ui:define>
        </o:wizard>
    </ui:define>
</ui:composition>
