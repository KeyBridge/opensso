<?xml version='1.0' encoding='UTF-8'?>
<ui:composition
    template="template/page.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:o="http://opensso.dev.java.net">
    <ui:define name="panel-title">
        <ice:outputText value="#{resources['samlv2-remote-idp-create.panelTitle']}" />
    </ui:define>
    <ui:define name="panel-details">
        <ice:outputText value="#{resources['samlv2-remote-idp-create.panelDetails']}" />
    </ui:define>
    <ui:define name="panel-body">
        <o:wizard
            steps="4"
            wizardHandler="#{samlV2RemoteIdpCreateWizardHandler}"
            wizardBean="#{samlV2RemoteIdpCreateWizardBean}">
            <ui:define name="wizard-steps">
                <o:wstep
                    step="0"
                    label="#{resources['samlv2-hosted-idp-create.wizardstep1']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-idp-create.realmsectiontitle']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <!-- Realm -->
                                    <ice:panelGroup>
                                        <ice:outputLabel
                                            for="existingRealmList"
                                            value="#{resources['samlv2-hosted-idp-create.realmsectiontitle']}"/>
                                        <ice:selectOneMenu
                                            id="selectedRealm"
                                            value="#{samlV2RemoteIdpCreateWizardBean.selectedRealm}"
                                            partialSubmit="true">
                                            <f:selectItems
                                                value="#{samlV2RemoteIdpCreateWizardBean.availableRealmsList}"/>
                                        </ice:selectOneMenu>
                                    </ice:panelGroup>
                                    <!-- Realm -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="1"
                    label="#{resources['samlv2-remote-idp-create.wizardstep2']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-remote-idp-create.sectiontitle']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <ice:outputLabel
                                        value="#{resources['samlv2-remote-idp-create.entityNamePanelLabel.metadataFileReside']}"/>
                                    <ice:panelGroup>
                                        <ice:selectOneRadio
                                            id="MenuSelectMetaOrNoMetaRadio"
                                            partialSubmit="true"
                                            value="#{samlV2RemoteIdpCreateWizardBean.meta}">
                                            <f:selectItem id="meta" itemValue="true" itemLabel="File"/>
                                            <f:selectItem id="nometa" itemValue="false" itemLabel="URL"/>
                                        </ice:selectOneRadio>
                                    </ice:panelGroup>
                                    <!-- Metadata -->

                                    <ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{samlV2RemoteIdpCreateWizardBean.meta}">
                                            <!-- file upload example -->
                                            <ice:panelGroup styleClass="inputFileContainer">
                                                <!-- file upload  -->
                                                <ice:panelGroup>
                                                    <ice:outputLabel
                                                        for="standardMetaData"
                                                        value="#{resources['samlv2-hosted-idp-create.standardmetadata']}"/>

                                                    <!-- file upload usage with progress callback. -->
                                                    <ice:inputFile id="stdMetaInputFileName"
                                                                   submitOnUpload="postUpload"
                                                                   progressListener="#{samlV2RemoteIdpCreateWizardHandler.stdMetaFileUploadProgress}"
                                                                   actionListener="#{samlV2RemoteIdpCreateWizardHandler.stdMetaUploadFile}"/>
                                                    <!-- progress bar, percent value is upated via progressListener-->

                                                    <ice:outputProgress value="#{samlV2RemoteIdpCreateWizardBean.stdMetaFileProgress}"
                                                                        styleClass="uploadProgressBar"/>
                                                    <ice:outputText
                                                        for="StdMetaFileName"
                                                        value="#{samlV2RemoteIdpCreateWizardBean.stdMetaFilename}"/>
                                                </ice:panelGroup>
                                            </ice:panelGroup>
                                            <!-- file upload example -->
                                            <ice:panelGroup styleClass="inputFileContainer">
                                            </ice:panelGroup>
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{!samlV2RemoteIdpCreateWizardBean.meta}">
                                            <ice:outputLabel
                                                value="#{resources['samlv2-remote-idp-create.entityNamePanelLabel.metadataLocation']}"/>
                                            <ice:inputText
                                                id="metaUrl"
                                                value="#{samlV2RemoteIdpCreateWizardBean.metaUrl}"
                                                size="128"
                                                maxlength="256"/>
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{!samlV2RemoteIdpCreateWizardBean.meta}">
                                            <ice:outputLabel
                                                value="#{resources['samlv2-remote-idp-create.entityNamePanelLabel.metadataLocation.inlineHelp']}"/>
                                        </ice:panelGroup>
                                    </ice:panelGroup>
                                    <!-- Metadata -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="2"
                    label="#{resources['samlv2-hosted-idp-create.wizardstepcot']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-idp-create.addentitytocot']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-idp-create.addentitytocot']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <!-- COT -->
                                    <ice:panelGroup>
                                        <ice:outputLabel
                                            for="cotDecription"
                                            value="#{resources['samlv2-hosted-idp-create.cotdetails']}" />
                                        <ice:panelGroup>
                                            <ice:selectOneRadio
                                                id="MenuSelectNewCOTRadio"
                                                value="#{samlV2RemoteIdpCreateWizardBean.cot}"
                                                partialSubmit="true">
                                                <f:selectItem id="ChoiceCOT" itemValue="true" itemLabel="#{resources['samlv2-idp-create-cot-choiceone']}"/>
                                                <f:selectItem id="NewCOT" itemValue="false" itemLabel="#{resources['samlv2-idp-create-cot-choicetwo']}"/>
                                            </ice:selectOneRadio>
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{samlV2RemoteIdpCreateWizardBean.cot}">
                                            <ice:panelGroup >
                                                <ice:outputLabel
                                                    for="existingCotList"
                                                    value="Choice one COT from existing COT List"/>
                                                <br />
                                                <ice:selectOneMenu
                                                    id="selectedCot"
                                                    value="#{samlV2RemoteIdpCreateWizardBean.selectedCot}"
                                                    partialSubmit="true">
                                                    <f:selectItems
                                                        value="#{samlV2RemoteIdpCreateWizardBean.availableCotList}"/>
                                                </ice:selectOneMenu>
                                            </ice:panelGroup>
                                        </ice:panelGroup>
                                        <ice:panelGroup
                                            visible="#{!samlV2RemoteIdpCreateWizardBean.cot}">
                                            <ice:outputLabel
                                                for="NewCotName"
                                                value="#{resources['samlv2-hosted-idp-create.newcotname']}"/>
                                            <ice:inputText
                                                id="NewCotName"
                                                value="#{samlV2RemoteIdpCreateWizardBean.newCotName}"
                                                size="50"
                                                maxlength="50"/>
                                        </ice:panelGroup>
                                    </ice:panelGroup>
                                    <!-- COT -->
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
                <o:wstep
                    step="3"
                    label="#{resources['samlv2-remote-idp-create.wizardstepreview']}">
                    <ui:define name="wizard-step-body">
                        <div class="section-outer">
                            <o:section>
                                <ui:define name="section-title">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-idp-create.summary']}"/>
                                </ui:define>
                                <ui:define name="section-details">
                                    <ice:outputText
                                        value="#{resources['samlv2-hosted-idp-create.reviewdetails']}"/>
                                </ui:define>
                                <ui:define name="section-body">
                                    <o:summarypanel
                                        summary="#{samlV2RemoteIdpCreateWizardBean.realmSamlV2RemoteIdpCreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2RemoteIdpCreateWizardBean.stdMetadataNameSamlV2RemoteIdpCreateSummary}"/>
                                    <o:summarypanel
                                        summary="#{samlV2RemoteIdpCreateWizardBean.cotSamlV2RemoteIdpCreateSummary}"/>
                                </ui:define>
                            </o:section>
                        </div>
                    </ui:define>
                </o:wstep>
            </ui:define>
        </o:wizard>
    </ui:define>
</ui:composition>
