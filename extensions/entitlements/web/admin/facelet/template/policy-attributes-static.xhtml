<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <div class="section-outer">
        <o:box>
            <ui:define name="body">
                <div class="section-inner">
                    <span class="section-head">
                        <span class="section-title">
                            <ice:outputText value="Resource Attributes"/>
                        </span>
                        <span class="section-links">
                            <ice:panelGroup
                                columns="1">
                                <o:clink
                                    handler="#{attributesHandler}"
                                    listenerMethod="addListener"
                                    type="add"/>
                            </ice:panelGroup>
                        </span>
                    </span>

                    <div class="clear"></div>
                    <ice:panelGroup
                        visible="#{o:size(attributesBean.viewAttributes) == 0}">
                        <ice:outputText
                            value="No static attributes"/>
                    </ice:panelGroup>
                    <ice:dataTable
                        visible="#{o:size(attributesBean.viewAttributes) > 0}"
                        styleClass="attributes"
                        columnClasses="attributesCol1,attributesCol2,attributesCol3"
                        value="#{attributesBean.viewAttributes}"
                        var="attribute">
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Name"/>
                            </f:facet>
                            <ice:panelGroup
                                visible="#{!attribute.nameEditable}">
                                <ice:commandLink
                                    styleClass="command-link"
                                    actionListener="#{attributesHandler.editNameListener}">
                                    <f:attribute
                                        name="viewAttribute"
                                        value="#{attribute}"/>
                                    <ice:outputText
                                        value="#{attribute.title}"/>
                                </ice:commandLink>
                            </ice:panelGroup>
                            <ice:panelGroup
                                visible="#{attribute.nameEditable}">
                                <ice:inputText
                                    style="width: 100%"
                                    styleClass="inline-input"
                                    valueChangeListener="#{attributesHandler.nameEditedListener}"
                                    value="#{attribute.name}">
                                    <f:attribute
                                        name="viewAttribute"
                                        value="#{attribute}"/>
                                </ice:inputText>
                            </ice:panelGroup>
                        </ice:column>
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Value"/>
                            </f:facet>
                            <ice:panelGroup
                                visible="#{!attribute.valueEditable}">
                                <ice:commandLink
                                    styleClass="command-link"
                                    actionListener="#{attributesHandler.editValueListener}">
                                    <f:attribute
                                        name="viewAttribute"
                                        value="#{attribute}"/>
                                    <ice:outputText
                                        value="#{attribute.value}"/>
                                </ice:commandLink>
                            </ice:panelGroup>
                            <ice:panelGroup
                                visible="#{attribute.valueEditable}">
                                <ice:inputText
                                    styleClass="inline-input"
                                    style="width: 100%"
                                    valueChangeListener="#{attributesHandler.valueEditedListener}"
                                    value="#{attribute.value}">
                                    <f:attribute
                                        name="viewAttribute"
                                        value="#{attribute}"/>
                                </ice:inputText>
                            </ice:panelGroup>
                        </ice:column>
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Remove"/>
                            </f:facet>
                            <ice:panelGroup>
                                <ice:commandLink
                                    actionListener="#{attributesHandler.removeListener}">
                                    <f:attribute
                                        name="viewAttribute"
                                        value="#{attribute}"/>
                                    <ice:graphicImage
                                        value="../image/remove-16.png"/>
                                </ice:commandLink>
                            </ice:panelGroup>
                        </ice:column>
                    </ice:dataTable>
                </div>
            </ui:define>
        </o:box>
    </div>
</span>
