<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <ui:include src="policy-actions-add-popup.xhtml"/>

    <div class="section-outer">
        <o:box>
            <ui:define name="body">
                <div class="section-inner">
                    <span class="section-head">
                        <span class="section-title">
                            <ice:outputText value="New Policy Actions"/>
                        </span>
                        <span class="section-links">
                            <ice:panelGroup
                                columns="1">
                                <o:clink
                                    handler="#{booleanActionsHandler}"
                                    listenerMethod="addListener"
                                    type="add"/>
                            </ice:panelGroup>
                        </span>
                    </span>
                    <div class="clear"></div>
                    <ice:panelGroup
                        visible="#{o:size(booleanActionsBean.actions) == 0}">
                        <ice:outputText
                            value="No actions"/>
                    </ice:panelGroup>
                    <ice:dataTable
                        visible="#{o:size(booleanActionsBean.actions) > 0}"
                        styleClass="actions"
                        value="#{booleanActionsBean.actions}"
                        var="booleanAction">
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Action"/>
                            </f:facet>
                            <ice:panelGroup>
                                <ice:outputText value="#{booleanAction.name}"/>
                            </ice:panelGroup>
                        </ice:column>
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Permission"/>
                            </f:facet>
                            <ice:panelGroup>
                                <ice:selectOneRadio
                                    partialSubmit="true"
                                    value="#{booleanAction.allow}"
                                    valueChangeListener="#{booleanAction.booleanActionHandler.selectListener}">
                                    <f:selectItem itemValue="true" itemLabel="Allow"/>
                                    <f:selectItem itemValue="false" itemLabel="Deny"/>
                                </ice:selectOneRadio>
                            </ice:panelGroup>
                        </ice:column>
                        <ice:column>
                            <f:facet name="header">
                                <ice:outputText value="Remove"/>
                            </f:facet>
                            <ice:panelGroup>
                                <ice:commandLink
                                    actionListener="#{booleanActionsHandler.removeListener}">
                                    <f:attribute
                                        name="booleanAction"
                                        value="#{booleanAction}"/>
                                    <ice:graphicImage
                                        value="../image/remove-16.png"/>
                                </ice:commandLink>
                            </ice:panelGroup>
                        </ice:column>
                    </ice:dataTable>
                </div>
            </ui:define>
        </o:box>
    </div>
</span>
