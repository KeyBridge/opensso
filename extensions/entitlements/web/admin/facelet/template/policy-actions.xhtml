<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <ui:include src="policy-actions-add-popup.xhtml"/>

    <o:section>
        <ui:define name="section-title">
            <ice:outputText
                value="Policy Actions"/>
        </ui:define>
        <ui:define name="section-link">
            <ice:panelGrid
                columns="1">
                <o:clink
                    handler="#{booleanActionsHandler}"
                    listenerMethod="addListener"
                    type="add"/>
            </ice:panelGrid>
        </ui:define>
        <ui:define name="section-body">
            <ice:panelGroup
                visible="#{o:size(booleanActionsBean.actions) == 0}">
                <ice:outputText
                    value="#{resources['policy-actions.noActions']}"/>
            </ice:panelGroup>
            <ice:dataTable
                visible="#{o:size(booleanActionsBean.actions) > 0}"
                styleClass="actions"
                columnClasses="actionsCol1,actionsCol2,actionsCol3"
                value="#{booleanActionsBean.actions}"
                var="booleanAction">
                <ice:column>
                    <f:facet name="header">
                        <ice:outputText value="#{resources['policy-actions.action']}"/>
                    </f:facet>
                    <ice:panelGroup>
                        <ice:outputText value="#{booleanAction.title}"/>
                    </ice:panelGroup>
                </ice:column>
                <ice:column>
                    <f:facet name="header">
                        <ice:outputText value="#{resources['policy-actions.permission']}"/>
                    </f:facet>
                    <ice:panelGroup>
                        <ice:selectOneRadio
                            partialSubmit="true"
                            value="#{booleanAction.allow}"
                            valueChangeListener="#{booleanAction.booleanActionHandler.selectListener}">
                            <f:selectItem
                                itemValue="true"
                                itemLabel="#{resources['policy-actions.allow']}"/>
                            <f:selectItem
                                itemValue="false"
                                itemLabel="#{resources['policy-actions.deny']}"/>
                        </ice:selectOneRadio>
                    </ice:panelGroup>
                </ice:column>
                <ice:column>
                    <f:facet name="header">
                        <ice:outputText value="#{resources['policy-actions.remove']}"/>
                    </f:facet>
                    <ice:panelGroup>
                        <ice:commandLink
                            actionListener="#{booleanActionsHandler.removeListener}">
                            <f:attribute
                                name="booleanAction"
                                value="#{booleanAction}"/>
                            <ice:graphicImage
                                value="../image/remove-16.png"/>
                        </ice:commandLink>
                    </ice:panelGroup>
                </ice:column>
            </ice:dataTable>
        </ui:define>
    </o:section>
</span>
