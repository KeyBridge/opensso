<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <ui:include src="resources-banking-add-popup.xhtml"/>

    <div class="section-outer">
        <o:box>
            <ui:define name="body">
                <div class="section-inner">
                    <span class="section-head">
                        <span class="section-title">
                            <ice:outputText value="Banking Resources"/>
                        </span>
                        <span class="section-links">
                            <ice:panelGrid
                                columns="1">
                                <ice:commandLink
                                    styleClass="command-link"
                                    actionListener="#{bankingResourcesHandler.addListener}">
                                    <ice:graphicImage
                                        value="../image/add.png"/>
                                    <ice:outputText
                                        value="Add"/>
                                </ice:commandLink>
                            </ice:panelGrid>
                        </span>
                    </span>
                    <div class="clear"></div>
                    <ice:panelGroup
                        rendered="#{o:size(policyResourcesBean.privilegeBean.viewEntitlement.resources) == 0}">
                        <ice:outputText
                            value="No resources."/>
                    </ice:panelGroup>
                    <ice:panelGroup
                        rendered="#{o:size(policyResourcesBean.privilegeBean.viewEntitlement.resources) > 0}">
                        <ice:dataTable
                            styleClass="banking-resources-table"
                            columnClasses="banking-resources-tableCol1,banking-resources-tableCol2,banking-resources-tableCol3"
                            var="bankingResource"
                            value="#{policyResourcesBean.privilegeBean.viewEntitlement.resources}">
                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText
                                        value="Account Number"/>
                                </f:facet>
                                <ice:panelGroup>
                                    <ice:outputText
                                        value="#{bankingResource.name}"/>
                                </ice:panelGroup>
                            </ice:column>
                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText
                                        value="Account Owner"/>
                                </f:facet>
                                <ice:panelGroup>
                                    <ice:outputText
                                        value="#{bankingResource.owner.cn}"/>
                                </ice:panelGroup>
                            </ice:column>
                            <ice:column>
                                <f:facet name="header">
                                    <ice:outputText value="Remove"/>
                                </f:facet>
                                <ice:panelGroup>
                                    <ice:commandLink
                                        actionListener="#{bankingResourcesHandler.removeListener}">
                                        <f:attribute
                                            name="bankingResource"
                                            value="#{bankingResource}"/>
                                        <f:attribute
                                            name="viewEntitlement"
                                            value="#{policyResourcesBean.privilegeBean.viewEntitlement}"/>
                                        <ice:graphicImage
                                            value="../image/remove-16.png"/>
                                    </ice:commandLink>
                                </ice:panelGroup>
                            </ice:column>
                        </ice:dataTable>
                    </ice:panelGroup>
                </div>
            </ui:define>
        </o:box>
    </div>
</span>
