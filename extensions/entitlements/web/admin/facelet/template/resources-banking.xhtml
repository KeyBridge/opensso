<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <ui:include src="resources-banking-add-popup.xhtml"/>

    <o:section>
        <ui:define name="section-title">
            <ice:outputText
                value="Banking Resources"/>
        </ui:define>
        <ui:define name="section-links">
            <ice:panelGrid
                columns="1">
            <ice:commandLink
                styleClass="command-link"
                actionListener="#{bankingResourcesHandler.addListener}">
                <f:attribute
                    name="viewEntitlement"
                    value="#{policyResourcesBean.privilegeBean.viewEntitlement}"/>
                <ice:graphicImage
                    value="../image/add.png"/>
                <ice:outputText
                    value="Add"/>
            </ice:commandLink>
            </ice:panelGrid>
        </ui:define>
        <ui:define name="section-body">
            <ice:panelGroup
                rendered="#{o:size(policyResourcesBean.privilegeBean.viewEntitlement.resources) == 0}">
                <ice:outputText
                    value="No resources."/>
            </ice:panelGroup>
            <ice:panelGroup
                rendered="#{o:size(policyResourcesBean.privilegeBean.viewEntitlement.resources) > 0}">
                <ice:dataTable
                    styleClass="banking-resources"
                    columnClasses="banking-resourcesCol1,banking-resourcesCol2,banking-resourcesCol3"
                    var="bankingResource"
                    value="#{policyResourcesBean.privilegeBean.viewEntitlement.resources}">
                    <ice:column>
                        <f:facet name="header">
                            <ice:outputText
                                value="Account Number"/>
                        </f:facet>
                        <ice:panelGroup>
                            <ice:outputText
                                value="#{bankingResource.title}"/>
                        </ice:panelGroup>
                    </ice:column>
                    <ice:column>
                        <f:facet name="header">
                            <ice:outputText
                                value="Account Owner"/>
                        </f:facet>
                        <ice:panelGroup>
                            <ice:outputText
                                rendered="#{bankingResource.owner != null}"
                                value="#{bankingResource.owner.title}"/>
                        </ice:panelGroup>
                    </ice:column>
                    <ice:column>
                        <f:facet name="header">
                            <ice:outputText value="Remove"/>
                        </f:facet>
                        <ice:panelGroup>
                            <ice:commandLink
                                actionListener="#{bankingResourcesHandler.removeListener}">
                                <f:attribute
                                    name="bankingResource"
                                    value="#{bankingResource}"/>
                                <f:attribute
                                    name="viewEntitlement"
                                    value="#{policyResourcesBean.privilegeBean.viewEntitlement}"/>
                                <ice:graphicImage
                                    value="../image/remove-16.png"/>
                            </ice:commandLink>
                        </ice:panelGroup>
                    </ice:column>
                </ice:dataTable>
            </ice:panelGroup>
        </ui:define>
    </o:section>
</span>
