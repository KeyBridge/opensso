<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">
    <ice:panelGrid
        columns="3"
        styleClass="policy-create-conditions"
        columnClasses="conditions-selected conditions-gutter conditions-available">
        <ice:panelGroup
            style="width: 100%">
            <c:forEach
                var="viewCondition"
                items="#{policyCreateWizardBean.viewConditions}">
                <o:multipanel
                    collapsible="true"
                    removeable="true"
                    visible="#{viewCondition.visible}"
                    expanded="#{viewCondition.expanded}"
                    bean="#{viewCondition}"
                    handler="#{viewConditionsHandler}">
                    <ui:define name="panel-title">
                        #{viewCondition.name != null ? viewCondition.name : viewCondition.conditionType.name}
                    </ui:define>
                    <ui:define name="panel-body">
                        <ui:include src="#{viewCondition.conditionType.template}">
                            <ui:param
                                name="viewCondition"
                                value="#{viewCondition}"/>
                        </ui:include>
                    </ui:define>
                </o:multipanel>
            </c:forEach>
            <ice:panelGroup
                styleClass="drop-target"
                dropTarget="true"
                dropListener="#{policyCreateWizardHandler.conditionDropListener}">
                Drop here ...
            </ice:panelGroup>
        </ice:panelGroup>
        <ice:panelGroup/>
        <ice:panelGrid
            columns="1"
            style="width: 100%">
            <o:multipanel
                bean="#{staticMultiPanelBean}"
                handler="#{staticMultiPanelHandler}"
                visible="true"
                expanded="true"
                collapsible="false"
                removeable="false">
                <ui:define name="panel-title">
                    <ice:panelGroup>
                        <ice:outputText value="Condition Types"/>
                    </ice:panelGroup>
                </ui:define>
                <ui:define name="panel-body">
                    <ice:panelSeries
                        value="#{conditionTypes}"
                        var="conditionType">
                        <ice:panelGroup
                            draggable="true"
                            dragValue="#{conditionType}"
                            dragOptions="dragGhost">
                            <ice:panelGrid columns="2">
                                <ice:graphicImage value="../image/user.png"/>
                                <ice:panelGroup>
                                    <ice:outputText value="#{conditionType.name}"/>
                                </ice:panelGroup>
                            </ice:panelGrid>
                        </ice:panelGroup>
                    </ice:panelSeries>
                </ui:define>
            </o:multipanel>
        </ice:panelGrid>
    </ice:panelGrid>
</span>
