<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">
    <div class="section-outer">
        <o:box>
            <ui:define name="body">
                <div class="section-inner">
                    <span class="section-head">
                        <span class="section-title">
                            <ice:outputText value="New Policy Conditions"/>
                        </span>
                    </span>
                    <div class="clear"></div>
                    <ice:panelGrid
                        columns="3"
                        styleClass="policy-create-conditions"
                        columnClasses="conditions-selected conditions-gutter conditions-available">
                        <ice:panelGroup
                            style="width: 100%">
                            <o:conditionpanel
                                viewCondition="#{policyCreateWizardBean.privilegeBean.viewCondition}"/>
                            <ice:panelGroup
                                visible="#{policyCreateWizardBean.privilegeBean.viewCondition == null}"
                                styleClass="drop-target"
                                dropTarget="true"
                                dropListener="#{policyCreateWizardHandler.conditionDropListener}">
                                <ice:outputText
                                    value="Drop condition or expression here ..."/>
                            </ice:panelGroup>
                        </ice:panelGroup>
                        <ice:panelGroup/>
                        <ice:panelGroup
                            style="width: 100%">
                            <o:multipanel
                                visible="true"
                                expanded="#{conditionTypePanelBean.expanded}"
                                bean="#{conditionTypePanelBean}"
                                handler="#{basicMultiPanelHandler}"
                                collapsible="true"
                                removeable="false">
                                <ui:define name="panel-title">
                                    <ice:panelGroup>
                                        <ice:outputText value="Conditions"/>
                                    </ice:panelGroup>
                                </ui:define>
                                <ui:define name="panel-body">
                                    <ice:panelSeries
                                        value="#{conditionTypes}"
                                        var="conditionType">
                                        <ice:panelGroup
                                            styleClass="draggable"
                                            rendered="#{!conditionType.expression}"
                                            draggable="true"
                                            dragValue="#{conditionType}"
                                            dragOptions="dragGhost">
                                            <ice:panelGrid columns="2">
                                                <ice:graphicImage value="#{conditionType.conditionIconUri}"/>
                                                <ice:panelGroup>
                                                    <ice:outputText value="#{conditionType.name}"/>
                                                </ice:panelGroup>
                                            </ice:panelGrid>
                                        </ice:panelGroup>
                                    </ice:panelSeries>
                                </ui:define>
                            </o:multipanel>
                            <o:multipanel
                                visible="true"
                                expanded="#{conditionExpressionPanelBean.expanded}"
                                bean="#{conditionExpressionPanelBean}"
                                handler="#{basicMultiPanelHandler}"
                                collapsible="true"
                                removeable="false">
                                <ui:define name="panel-title">
                                    <ice:panelGroup>
                                        <ice:outputText value="Expressions"/>
                                    </ice:panelGroup>
                                </ui:define>
                                <ui:define name="panel-body">
                                    <ice:panelSeries
                                        value="#{conditionTypes}"
                                        var="conditionType">
                                        <ice:panelGroup
                                            styleClass="draggable"
                                            rendered="#{conditionType.expression}"
                                            draggable="true"
                                            dragValue="#{conditionType}"
                                            dragOptions="dragGhost">
                                            <ice:panelGrid columns="2">
                                                <ice:graphicImage value="#{conditionType.conditionIconUri}"/>
                                                <ice:panelGroup>
                                                    <ice:outputText value="#{conditionType.name}"/>
                                                </ice:panelGroup>
                                            </ice:panelGrid>
                                        </ice:panelGroup>
                                    </ice:panelSeries>
                                </ui:define>
                            </o:multipanel>
                        </ice:panelGroup>
                    </ice:panelGrid>
                </div>
            </ui:define>
        </o:box>
    </div>
</span>
