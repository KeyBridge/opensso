<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <span class="section-head">
        <span class="section-title">
            <ice:outputText value="Policy Summary"/>
        </span>
        <span class="section-links">
            <o:nbsp/>
        </span>
    </span>
    <div class="clear"></div>
    
    <o:summarypanel
        policySummary="#{policySummaryBean.namePolicySummary}"/>
    <o:summarypanel
        policySummary="#{policySummaryBean.descriptionPolicySummary}"/>
    <o:summarypanel
        policySummary="#{policySummaryBean.applicationPolicySummary}"/>
    <o:summarypanel
        policySummary="#{policySummaryBean.resourcesPolicySummary}"/>
    <o:summarypanel
        policySummary="#{policySummaryBean.subjectsPolicySummary}"/>
    <o:summarypanel
        policySummary="#{policySummaryBean.conditionsPolicySummary}"/>

    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Actions"/>
                    <ice:outputText value="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actions)}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editActionsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="3"/>
                        <f:attribute name="gotoAdvancedTabIndex" value="0"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actions) > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actionsToFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Resource Attributes"/>
                    <ice:outputText value="#{o:size(policySummaryBean.privilegeBean.staticAttributesBean.viewAttributes)}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editActionsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="3"/>
                        <f:attribute name="gotoAdvancedTabIndex" value="3"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{o:size(policySummaryBean.privilegeBean.staticAttributesBean.viewAttributes) > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.staticAttributesBean.toFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
</span>
