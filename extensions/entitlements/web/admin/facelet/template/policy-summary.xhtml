<?xml version='1.0' encoding='UTF-8'?>
<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net">

    <span class="section-head">
        <span class="section-title">
            <ice:outputText value="Summary of new policy"/>
        </span>
        <span class="section-links">
            <o:nbsp/>
        </span>
    </span>
    <div class="clear"></div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Name"/>
                    <ice:outputText value="#{policySummaryBean.privilegeBean.name}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editNameListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="0"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Description"/>
                    <ice:outputText value="#{policySummaryBean.privilegeBean.description}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editNameListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="0"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Resources"/>
                    <ice:outputText
                        value="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.resources)}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editResourcesListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="1"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.resources) > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewEntitlement.resourcesToFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Exceptions"/>
                    <ice:outputText
                        value="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.exceptions)}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editExceptionsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="1"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.resources) > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewEntitlement.resourcesToFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Subjects"/>
                    <ice:outputText value="#{policySummaryBean.privilegeBean.viewSubject == null ? 0 : policySummaryBean.privilegeBean.viewSubject.size}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editSubjectsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="2"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{policySummaryBean.privilegeBean.viewSubject.size > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewSubject.toFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Conditions"/>
                    <ice:outputText value="#{policySummaryBean.privilegeBean.viewCondition == null ? 0 : policySummaryBean.privilegeBean.viewCondition.size}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editConditionsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="3"/>
                        <f:attribute name="gotoAdvancedTabIndex" value="1"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{policySummaryBean.privilegeBean.viewCondition.size > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewCondition.toFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
    <div class="summary-items">
        <o:box>
            <ui:define name="body">
                <ice:panelGrid
                    styleClass="summary-table"
                    columnClasses="summary-tableCol1,summary-tableCol2,summary-tableCol3"
                    columns="3">
                    <ice:outputText value="Actions"/>
                    <ice:outputText value="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actions)}"/>
                    <ice:commandLink
                        actionListener="#{policySummaryHandler.editActionsListener}"
                        partialSubmit="true"
                        styleClass="command-link">
                        <f:attribute name="step" value="4"/>
                        <f:attribute name="gotoStep" value="3"/>
                        <f:attribute name="gotoAdvancedTabIndex" value="0"/>
                        <img
                            style="vertical-align: middle"
                            src="../image/edit.png"/>
                        <ice:outputText
                            style="margin-left: 2px"
                            value="Edit"/>
                    </ice:commandLink>
                </ice:panelGrid>
                <ice:panelGrid
                    styleClass="summary-strings"
                    visible="#{o:size(policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actions) > 0}">
                    <pre>
                    <ice:outputText
                        value="#{policySummaryBean.privilegeBean.viewEntitlement.booleanActionsBean.actionsToFormattedString}"/>
                    </pre>
                </ice:panelGrid>
            </ui:define>
        </o:box>
    </div>
</span>
