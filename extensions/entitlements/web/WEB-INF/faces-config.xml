<?xml version='1.0' encoding='UTF-8'?>
<faces-config version="1.2" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd">
    <application>
        <view-handler>
                com.icesoft.faces.facelets.D2DFaceletViewHandler
        </view-handler>
        <locale-config>
            <default-locale>en</default-locale>
            <supported-locale>en</supported-locale>
            <supported-locale>en_US</supported-locale>
        </locale-config>
        <message-bundle>
            com.sun.identity.admin.Messages
        </message-bundle>
    </application>

    <managed-bean>
        <managed-bean-name>queuedActionBean</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.QueuedActionBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <!-- subject container dao's -->
    <managed-bean>
        <managed-bean-name>userSubjectContainerDao</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.dao.UserSubjectContainerDao</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>roleSubjectContainerDao</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.dao.RoleSubjectContainerDao</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <!-- subject container types -->
    <managed-bean>
        <managed-bean-name>userSubjectContainerType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.UserSubjectContainerType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>name</property-name>
            <value>user</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/subject-chooser-user.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>subjectContainerDao</property-name>
            <value>#{userSubjectContainerDao}</value>
        </managed-property>
        <managed-property>
            <property-name>subjectIconUri</property-name>
            <value>/admin/image/user.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>roleSubjectContainerType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.RoleSubjectContainerType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>name</property-name>
            <value>role</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/subject-chooser-role.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>subjectContainerDao</property-name>
            <value>#{roleSubjectContainerDao}</value>
        </managed-property>
        <managed-property>
            <property-name>subjectIconUri</property-name>
            <value>/admin/image/role.png</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>subjectContainerTypes</managed-bean-name>
        <managed-bean-class>java.util.ArrayList</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <list-entries>
            <value>#{userSubjectContainerType}</value>
            <value>#{roleSubjectContainerType}</value>
        </list-entries>
    </managed-bean>
    <!-- subject container types -->

    <!-- application types -->
    <managed-bean>
        <managed-bean-name>urlApplicationType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.ApplicationType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>name</property-name>
            <value>url</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>template/url-resources.xhtml</value>
        </managed-property>
    </managed-bean>
    <!-- application types -->

    <managed-bean>
        <managed-bean-name>applicationTypes</managed-bean-name>
        <managed-bean-class>java.util.HashMap</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <map-entries>
            <map-entry>
                <key>#{urlApplicationType.name}</key>
                <value>#{urlApplicationType}</value>
            </map-entry>
        </map-entries>
    </managed-bean>

    <!-- applications -->
    <managed-bean>
        <managed-bean-name>applications</managed-bean-name>
        <managed-bean-class>java.util.HashMap</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    <!-- applications -->

    <managed-bean>
        <managed-bean-name>applicationDao</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.dao.ApplicationDao</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>applicationTypes</property-name>
            <value>#{applicationTypes}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>applicationHandler</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.handler.ApplicationHandler</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>applications</property-name>
            <value>#{applications}</value>
        </managed-property>
        <managed-property>
            <property-name>applicationDao</property-name>
            <value>#{applicationDao}</value>
        </managed-property>
    </managed-bean>

    <!-- condition types -->
    <managed-bean>
        <managed-bean-name>activeSessionTimeConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.ActiveSessionTimeConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>activeSessionTime</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-active-session-time.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/user.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>ipConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.IPConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>ip</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-ip.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/user.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>timeRangeConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.TimeRangeConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>timeRange</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-time-range.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/time.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>dateRangeConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.DateRangeConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>dateRange</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-date-range.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/calendar.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>timezoneConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.TimezoneConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>timezone</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-timezone.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/globe.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>daysOfWeekConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.DaysOfWeekConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>false</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>daysOfWeek</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-days-of-week.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/calendar.png</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>orConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.OrConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>true</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>or</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-or.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/or.gif</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>andConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.AndConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>true</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>and</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-and.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/and.gif</value>
        </managed-property>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>notConditionType</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.NotConditionType</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>expression</property-name>
            <value>true</value>
        </managed-property>
        <managed-property>
            <property-name>name</property-name>
            <value>not</value>
        </managed-property>
        <managed-property>
            <property-name>template</property-name>
            <value>/admin/facelet/template/condition-not.xhtml</value>
        </managed-property>
        <managed-property>
            <property-name>conditionIconUri</property-name>
            <value>/admin/image/not.gif</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>conditionTypes</managed-bean-name>
        <managed-bean-class>java.util.ArrayList</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <list-entries>
            <value>#{activeSessionTimeConditionType}</value>
            <value>#{ipConditionType}</value>
            <value>#{timeRangeConditionType}</value>
            <value>#{dateRangeConditionType}</value>
            <value>#{timezoneConditionType}</value>
            <value>#{daysOfWeekConditionType}</value>
            <value>#{orConditionType}</value>
            <value>#{andConditionType}</value>
            <value>#{notConditionType}</value>
        </list-entries>
    </managed-bean>
    <!-- condition types -->

    <managed-bean>
        <managed-bean-name>viewConditionsHandler</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.handler.ViewConditionsHandler</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>viewConditions</property-name>
            <value>#{policyCreateWizardBean.privilegeBean.viewConditions}</value>
        </managed-property>
        <managed-property>
            <property-name>queuedActionBean</property-name>
            <value>#{queuedActionBean}</value>
        </managed-property>
    </managed-bean>

    <!-- url resource chooser -->
    <managed-bean>
        <managed-bean-name>urlResourceChooserBean</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.UrlResourceChooserBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>urlResourceChooserHandler</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.handler.UrlResourceChooserHandler</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>urlResourceChooserBean</property-name>
            <value>#{urlResourceChooserBean}</value>
        </managed-property>
    </managed-bean>
    <!-- url resource chooser -->

    <managed-bean>
        <managed-bean-name>subjectContainersHandler</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.handler.SubjectContainersHandler</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>subjectContainers</property-name>
            <value>#{policyCreateWizardBean.privilegeBean.subjectContainers}</value>
        </managed-property>
        <managed-property>
            <property-name>queuedActionBean</property-name>
            <value>#{queuedActionBean}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>policyCreateWizardBean</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.model.PolicyCreateWizardBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>applications</property-name>
            <value>#{applicationHandler.applications}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>policyCreateWizardHandler</managed-bean-name>
        <managed-bean-class>com.sun.identity.admin.handler.PolicyCreateWizardHandler</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>wizardBean</property-name>
            <value>#{policyCreateWizardBean}</value>
        </managed-property>
    </managed-bean>

    <navigation-rule>
        <navigation-case>
            <from-outcome>home</from-outcome>
            <to-view-id>/admin/facelet/home.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>policy</from-outcome>
            <to-view-id>/admin/facelet/policy.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>federation</from-outcome>
            <to-view-id>/admin/facelet/federation.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>monitoring</from-outcome>
            <to-view-id>/admin/facelet/monitoring.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>policy-create</from-outcome>
            <to-view-id>/admin/facelet/policy-create.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>policy-created</from-outcome>
            <to-view-id>/admin/facelet/policy-created.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>policy-create-canceled</from-outcome>
            <to-view-id>/admin/facelet/policy-create-canceled.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>policy-manage</from-outcome>
            <to-view-id>/admin/facelet/policy-manage.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>resource-manage</from-outcome>
            <to-view-id>/admin/facelet/resource-manage.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>samlv2Workflow</from-outcome>
            <to-view-id>/admin/facelet/samlv2-workflow.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <lifecycle>
        <phase-listener>
            com.sun.identity.admin.model.QueuedActionListener
        </phase-listener>
    </lifecycle>
</faces-config>