<?xml version='1.0' encoding='UTF-8'?>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:o="http://opensso.dev.java.net">
    <ice:panelCollapsible
        expanded="#{wizardBean.wizardStepBeans[step].expanded}"
        disabled="#{!wizardBean.wizardStepBeans[step].enabled}"
        actionListener="#{wizardHandler.expandListener}">
        <f:attribute name="step" value="#{step}"/>
        <f:attribute name="steps" value="#{steps}"/>
        <f:facet name="header">
            <ice:panelGroup>
                <ice:outputText value="#{label}"/>
            </ice:panelGroup>
        </f:facet>
        <ui:insert name="wizard-step-body"/>
        <ice:panelGrid 
            styleClass="button-group"
            columns="3">
            <o:wbutton
                type="previous"
                handler="#{wizardHandler}"
                step="#{step}"
                steps="#{steps}"/>
            <o:wbutton
                type="next"
                handler="#{wizardHandler}"
                step="#{step}"
                steps="#{steps}"/>
            <o:wbutton
                type="cancel"
                handler="#{wizardHandler}"
                step="#{step}"
                steps="#{steps}"/>
            <o:wbutton
                type="finish"
                handler="#{wizardHandler}"
                step="#{step}"
                steps="#{steps}"/>
        </ice:panelGrid>
    </ice:panelCollapsible>
</ui:composition>
