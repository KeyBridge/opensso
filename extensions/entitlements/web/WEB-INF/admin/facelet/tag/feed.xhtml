<?xml version='1.0' encoding='UTF-8'?>
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:o="http://opensso.dev.java.net">

    <ice:panelGroup
        styleClass="feed-title">
        <ice:outputLink
            value="#{feedBean.feed.link}">
            <ice:outputText value="#{feedBean.feed.title}"/>
        </ice:outputLink>
    </ice:panelGroup>
    <ice:panelGroup
        styleClass="feed-description">
        <ice:outputText value="#{feedBean.feed.description}"/>
    </ice:panelGroup>
    <ice:panelSeries
        rendered="#{feedBean.feed != null}"
        var="entry"
        value="#{feedBean.feed.entries}">

        <div class="entry-outer">
            <o:box>
                <ui:define name="body">
                    <div class="entry-inner">
                        <ice:panelGroup
                            styleClass="entry-title">
                            <ice:outputLink
                                value="#{entry.link}">
                                <ice:outputText value="#{entry.title}"/>
                            </ice:outputLink>
                        </ice:panelGroup>
                        <ice:panelGroup
                            styleClass="entry-pubdate">
                            <ice:outputText value="#{entry.publishedDate}"/>
                        </ice:panelGroup>
                        <ice:panelGroup
                            styleClass="entry-content">
                            <ice:outputText
                                escape="false"
                                value="#{entry.description.value}"/>
                            <ice:panelSeries
                                var="content"
                                value="#{entry.contents}">
                                <ice:outputText
                                    rendered="#{o:size(entry.contents) > 0}"
                                    escape="false"
                                    value="#{content.value}"/>
                            </ice:panelSeries>
                        </ice:panelGroup>
                    </div>
                </ui:define>
            </o:box>
        </div>
    </ice:panelSeries>
    <ice:panelGroup
        rendered="#{feedBean.exception != null}">
        <ice:outputText
            value="Error occured retrieving feed: "/>
        <ice:outputText
            style="font-weight: bold"
            value="#{feedBean.exception}"/>
    </ice:panelGroup>
</ui:composition>