<?xml version='1.0' encoding='UTF-8'?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:o="http://opensso.dev.java.net"
    xmlns:f="http://java.sun.com/jsf/core">

    <f:subview>
        <ice:panelGroup
            styleClass="condition-panel"
            rendered="#{viewCondition != null}">

            <o:multipanel
                collapsible="true"
                removeable="true"
                visible="#{viewCondition.visible}"
                expanded="#{viewCondition.expanded}"
                bean="#{viewCondition}"
                handler="#{viewConditionsHandler}">

                <ui:define name="panel-title">
                    <ice:panelGroup
                        panelTooltip="titleTooltip">
                        <ice:panelGrid
                            columns="2">
                            <ice:graphicImage
                                value="#{viewCondition.conditionType.conditionIconUri}"/>
                            <ice:outputText
                                style="font-weight: bold"
                                value="#{o:truncate(viewCondition.toString,40)}"/>
                        </ice:panelGrid>
                    </ice:panelGroup>
                    <o:tooltip
                        tooltipId="titleTooltip"
                        title="#{viewCondition.title}">
                        <ui:define name="body">
                            <pre>
                            <ice:outputText
                                value="#{viewCondition.toFormattedString}"/>
                            </pre>
                        </ui:define>
                    </o:tooltip>
                </ui:define>
                <ui:define name="panel-body">
                    <ui:include
                        src="/admin/facelet/template/condition-template-includer.xhtml">
                        <ui:param name="viewCondition" value="#{viewCondition}"/>
                    </ui:include>
                </ui:define>
            </o:multipanel>
        </ice:panelGroup>
    </f:subview>
</ui:composition>