<?xml version='1.0' encoding='UTF-8'?>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component">
    <ice:panelCollapsible
        expanded="#{wizardBean.wizardStepBeans[step].expanded}"
        disabled="#{!wizardBean.wizardStepBeans[step].enabled}"
        actionListener="#{wizardHandler.expandListener}">
        <f:attribute name="step" value="#{step}"/>
        <f:attribute name="steps" value="#{steps}"/>
        <f:facet name="header">
            <ice:panelGroup>
                <ice:outputText value="#{label}"/>
            </ice:panelGroup>
        </f:facet>
        <ui:insert name="wizard-step-body"/>
        <ice:panelGrid columns="2">
            <ice:panelGroup styleClass="button-wrapper" visible="#{step != 0}">
                <ice:commandLink
                    styleClass="button"
                    partialSubmit="true"
                    actionListener="#{wizardHandler.previousListener}">
                    <f:attribute name="step" value="#{step}"/>
                    <f:attribute name="steps" value="#{steps}"/>
                    <img class="left" src="../image/go-previous.png"/>
                    Previous
                </ice:commandLink>
            </ice:panelGroup>
            <ice:panelGroup styleClass="button-wrapper" visible="#{step &lt; steps-1}">
                <ice:commandLink
                    styleClass="button"
                    partialSubmit="true"
                    actionListener="#{wizardHandler.nextListener}">
                    <f:attribute name="step" value="#{step}"/>
                    <f:attribute name="steps" value="#{steps}"/>
                    Next
                    <img class="right" src="../image/go-next.png"/>
                </ice:commandLink>
            </ice:panelGroup>
        </ice:panelGrid>
    </ice:panelCollapsible>
</ui:composition>
