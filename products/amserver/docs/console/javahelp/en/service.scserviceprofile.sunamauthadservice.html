<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><!-- GenHTML@12751-->
<head>
  <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>Active Directory
  </title>
  <script type="text/javascript" src="/com_sun_web_ui/js/browserVersion.js"></script>
  <script type="text/javascript" src="/com_sun_web_ui/js/stylesheet.js"></script>
  <script type="text/javascript"><!-- Empty script so IE5.0 Windows will draw table and button borders --></script>
  <meta name="Copyright" content="Copyright &copy; 2005 by Sun Microsystems, Inc. All Rights Reserved." />
</head>

<body class="HlpBdy">

<A NAME="service.scserviceprofile.sunamauthadservice"></A><h3>Active Directory</h3>
<p><A NAME="indexterm-168"></A>This module type works similarly to the LDAP authentication module type,
but uses the Microsoft Active Directory instead of an LDAP directory. Using this module
type makes it possible to have both LDAP and Active Directory coexist under the same
realm. The Active Directory authentication attributes are realm attributes. The attributes
are:</p>
<ul><li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwfdx">Primary Active Directory Server</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbmo">Secondary Active Directory Server</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwfeb">DN To Start User Search</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbjl">DN for Root User Bind</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbix">Password for Root User Bind</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbnt">Password for Root User Bind (confirm)</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwblg">Attribute Used to Retrieve User Profile</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbpi">Attributes Used to Search for a User to be Authenticated</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbmh">User Search Filter</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbju">Search Scope</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbmt">Enable SSL Access To Active Directory Server</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbpx">Return User DN to Authenticate</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbjb">Active Directory Server Check Interval</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwbtk">User Creation Attributes</A></p>
</li>
<li><p><A HREF="service.scserviceprofile.sunamauthadservice.html#fwboz">Authentication Level</A></p>
</li>
</ul>
<A NAME="fwfdx"></A><h4>Primary Active Directory Server</h4>
<p>Specifies the host name and port number of the primary Active Directory server
specified during Access Manager installation. This is the first server contacted for
Active Directory authentication. The format is<tt></tt><i>hostname:port<tt></i></tt>. If there is no port number, assume <tt>389</tt>.</p>
<p>If you have Access Manager deployed with multiple domains, you can specify the
communication link between specific instances of Access Manager and Directory Server
in the following format (multiple entries must be prefixed by the local server name): </p>
<p><tt>local_servername|server:port local_servername2|server2:port2 ...</tt>  </p>
<p>For example, if you have two Access Manager instances deployed in different
locations (L1-machine1-IS and L2- machine2-IS) communicating with different instances
of Directory Server (L1-machine1-DS and L2-machine2-DS), it would look the following: </p>
<p><tt>L1-machine1-IS.example.com|L1-machine1-DS.example.com:389</tt> </p>
<p><tt>L2-machine2-IS.example.com|L2-machine2-DS.example.com:389</tt></p>
<A NAME="fwbmo"></A><h4>Secondary Active Directory Server</h4>
<p>Specifies the host name and port number of a secondary Active Directory server
available to the Access Manager platform. If the primary Active Directory server does
not respond to a request for authentication, this server would then be contacted.
If the primary server is up, Access Manager will switch back to the primary server.
The format is also <tt></tt><i>hostname:port<tt></i></tt>.
Multiple entries must be prefixed by the local server name.  </p>
<hr size="1" noshade><p><IMG ALT="Caution" src="graphics/caution.gif">  <b>Caution - </b>When authenticating users from a Directory Server that is remote from
the Access Manager enterprise, it is important that both the Primary and Secondary
LDAP Server Ports have values. The value for one Directory Server location can be
used for both fields.</p><hr size="1" noshade><A NAME="fwfeb"></A><h4>DN To Start User Search</h4>
<p>Specifies the DN of the node where the search for a user would start. (For performance
reasons, this DN should be as specific as possible.) The default value is the root
of the directory tree. Any valid DN will be recognized. If OBJECT is
selected in the <b>Search Scope</b> attribute, the DN should specify
one level above the level in which the profile exists. Multiple entries must be prefixed
by the local server name. The format is <tt></tt><i>servername|search dn<tt></i></tt>.</p>
<p>For multiple entries:</p>
<p><tt></tt><i>servername1|search dn servername2|search dn servername3|search
dn<tt></i>...</tt> </p>
<p>If multiple users are found for the same search, authentication will fail.</p>
<A NAME="fwbjl"></A><h4>DN for Root User Bind</h4>
<p>Specifies the DN of the user that will be used to bind to the Directory Server
specified in the Primary LDAP Server and Port field as administrator. The authentication
service needs to bind as this DN in order to search for a matching user DN based on
the user login ID. The default is <tt>amldapuser.</tt> Any valid DN will
be recognized.</p>
<p>Make sure that password is correct before you logout. If it is incorrect, you
will be locked out. If this should occur, you can login with the super user DN in
the <i>com.iplanet.authentication.super.user</i> property in the <tt>AMConfig.Properties</tt> file. By default, this the <tt>amAdmin</tt> account
with which you would normally log in, although you will use the full DN. For example: </p>
<p><tt>uid_amAdmin,ou=People,</tt><i>AccessManager-base<tt></i></tt></p>
<A NAME="fwbix"></A><h4>Password for Root User Bind</h4>
<p>Carries the password for the administrator profile specified in the DN for Root
User Bind field. There is no default value. Only the administrator's valid Active
Directory password is recognized.</p>
<A NAME="fwbnt"></A><h4>Password for Root User Bind (confirm)</h4>
<p>Confirm the password.</p>
<A NAME="fwblg"></A><h4>Attribute Used to Retrieve User Profile</h4>
<p>Specifies the attribute used for the naming convention of user entries. By default,
Access Manager assumes that user entries are identified by the uid attribute. If your
Directory Server uses a different attribute (such as <i>givenname</i>)
specify the attribute name in this field.</p>
<A NAME="fwbpi"></A><h4>Attributes Used to Search for a User to be Authenticated</h4>
<p>Lists the attributes to be used to form the search filter for a user that is
to be authenticated, and allows the user to authenticate with more than one attribute
in the user's entry. For example, if this field is set to <i>uid</i>, <i>employeenumber</i>, and <i>mail</i>, the user could authenticate
with any of these names.</p>
<A NAME="fwbmh"></A><h4>User Search Filter</h4>
<p>Specifies an attribute to be used to find the user under the DN to Start User
Search field. It works with the <b>User Naming Attribute</b>. There
is no default value. Any valid user entry attribute will be recognized.</p>
<A NAME="fwbju"></A><h4>Search Scope</h4>
<p>Indicates the number of levels in the Directory Server that will be searched
for a matching user profile. The search begins from the node specified in <b>DN to Start User Search</b>. The default value is SUBTREE.
One of the following choices can be selected from the list: </p>
<table border="0" cellspacing="5"><tr valign="top"><td>OBJECT</td><td><p>Searches only the specified node.</p>
</td></tr><tr valign="top"><td>ONELEVEL</td><td><p>Searches at the level of the specified node and one level down.</p>
</td></tr><tr valign="top"><td>SUBTREE</td><td><p>Search all entries at and below the specified node.</p>
</td></tr></table>
<A NAME="fwbmt"></A><h4>Enable SSL Access To Active Directory Server</h4>
<p>Enables SSL access to the Directory Server specified in the Primary and Secondary
Server and Port field. By default, the box is not checked and the SSL protocol will
not be used to access the Directory Server. </p>
<p>If the Active Directory server is running with SSL enabled (LDAPS), you must
make sure that Access Manager is configured with proper SSL trusted certificates so
that AM could connect to Directory server over LDAPS protocol </p>
<A NAME="fwbpx"></A><h4>Return User DN to Authenticate</h4>
<p>When the Access Manager directory is the same as the directory configured for
Active Directory, this option may be enabled. If enabled, this option allows the Active
Directory authentication module instance to return the DN instead of the User ID,
and no search is necessary. Normally, an authentication module instance returns only
the User ID, and the authentication service searches for the user in the local Access
Manager instance. If an external Active Directory is used, this option is typically
not enabled.</p>
<A NAME="fwbjb"></A><h4>Active Directory Server Check Interval</h4>
<p>This attribute is used for Active Directory Server failback. It defines the
number of minutes in which a thread will "sleep" before verifying that
the primary Active Directory server is running.</p>
<A NAME="fwbtk"></A><h4>User Creation Attributes</h4>
<p>This attribute is used by the Active Directory authentication module instance
when the Active Directory server is configured as an external Active Directory server.
It contains a mapping of attributes between a local and an external Directory Server.
This attribute has the following format:  </p>
<p><i>attr1|externalattr1</i>  </p>
<p><i>attr2|externalattr2 </i> </p>
<p>When this attribute is populated, the values of the external attributes are
read from the external Directory Server and are set for the internal Directory Server
attributes. The values of the external attributes are set in the internal attributes
only when the <tt>User Profile</tt>attribute (in the Core Authentication
module type) is set to Dynamically Created and the user
does not exist in local Directory Server instance. The newly created user will contain
the values for internal attributes, as specified in User Creation Attributes List,
with the external attribute values to which they map. </p>
<A NAME="fwboz"></A><h4>Authentication Level</h4>
<p>The authentication level is set separately for each method of authentication.
The value indicates how much to trust an authentication mechanism. Once a user has
authenticated, this value is stored in the SSO token for the session. When the SSO
token is presented to an application the user wants to access, the application uses
the stored value to determine whether the level is sufficient to grant the user access.
If the authentication level stored in an SSO token does not meet the minimum value
required, the application can prompt the user to authenticate again through a service
with a higher authentication level. The default value is 0. </p>
<p><hr size="1" noshade><p><b>Note - </b>If no authentication level is specified, the SSO token stores the value
specified in the Core Authentication attribute <A HREF="service.scserviceprofile.iplanetamauthservice.html#fwbfn">Default Authentication Level</A>.</p>
<hr size="1" noshade></p>
<br />

</body>
</html>
