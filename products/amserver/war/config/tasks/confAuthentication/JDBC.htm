<style>	 
	.input{
	 width:250px;
	}
</style>

<script language="javascript">

    YAHOO.namespace("sun.container");
    AjaxUtils.load( 'addStore', '$context/tasks/dlg/popupAuthenticationUserStore.htm');
    YAHOO.sun.container.addStore = new YAHOO.widget.Panel("addStore", { width:"280px", fixedcenter: true, modal: true, close: false, visible:false, constraintoviewport:true } );
    YAHOO.sun.container.addStore.render();

    function addStore() {
        AjaxUtils.doPost("container", "$context/tasks/confAuthentication/JDBC.htm", AjaxUtils.serializeForm("jdbcForm"), afterAddStore, null);
    }

    function afterAddStore(){
        YAHOO.sun.container.addStore.show();
        setTimeout("YAHOO.sun.container.addStore.hide()",1250);
        setTimeout("document.location = '$context/commonTasks.htm'",1250);
    }

    function cancel(){
        document.location = "$context/commonTasks.htm";
    }

    function typeconnection(type){
        if(type == "1"){
            document.getElementById("type1").style.display="none";
            document.getElementById("type2").style.display="none";
            document.getElementById("type3").style.display="";
        }else{
            document.getElementById("type1").style.display="";
            document.getElementById("type2").style.display="";
            document.getElementById("type3").style.display="none";
        }
    }

</script>

<div id="mainPanel" align="center">
    <div id="createPanel" class="createpanel" align="left" style="width:600px;">
        <form id="jdbcForm" >
        <br />
        <div class="bodywhite">
            <h2>Add an Authentication Store</h2>
            <small>Fusce rhoncus rutrum nunc. Ut ut pede vel sem scelerisque commodo. Vestibulum non libero vulputate arcu gravida auctor. Phasellus quis felis in nulla laoreet ornare.</small>
        </div>				
        <div class="bodywhite">				
            <p class="OrangeSmall">Select authentication source:</p>
            <select id="selectAuthentication" style="width:200px">					
                <option value="1">JDBC</option>					
            </select><br /><br />
            <p class="OrangeSmall">Please Select the connection type:</p>
            <input type="radio" id="connectionType1" name="connectionType" value="Pooled JNDI" onclick="javascript:typeconnection('1');"/><font class="commonTextblack">Connection pooling via JNDI</font><br />
            <input type="radio" id="connectionType2" name="connectionType" value="Non Pooled JDBC" onclick="javascript:typeconnection('2');" checked="checked"/><font class="commonTextblack">Non-pooled JDBC connection</font><br />
            <br />
         </div>
        <div class="bodywhite" id="type1">
            <div class="middletitle">Enter the store details</div><div class="OrangeVerySmall" align="right">* ALL Fields are Required</div>
            <input class="input" type="text" id="storeDetails" name="storeDetails"/><br />
        </div>
        <div class="bodywhite" id="type2">    
             <p class="OrangeSmall">Enter the JDBC URL:</p>
            <input class="input" type="text" id="jdbcURL" name="jdbcURL"/><br />
        </div>
        <div class="bodywhite" id="type3" style="display:none">
        	<div class="middletitle">Connection pool JNDI name</div><div class="OrangeVerySmall" align="right">* ALL Fields are Required</div>
            <input class="input" type="text" id="jndiName" name="jndiName"/><br />
        </div>
        <div class="bodywhite">   
            <p class="OrangeSmall">Database login information:</p>
            <p>Username:&nbsp;<input type="text" id="username" name="username"/></p>
            <p>Password:&nbsp;<input type="text" id="password" name="password"/></p>
        </div>
        <div class="bodywhite" >   
            <p class="OrangeSmall">Database password field&nbsp;<img class="balloonIcon" src="$context/assets/images/balloon_icon.png" alt="#"/></p>
            <input class="input" type="text" id="passwordField" name="passwordField"/><br /><br />
            
            <p class="OrangeSmall">Password retrieval statement&nbsp;<img class="balloonIcon" src="$context/assets/images/balloon_icon.png" alt="#"/></p>
            <input class="input" type="text" id="retrievalStatement" name="retrievalStatement"/><br /><br />
            
            <p class="OrangeSmall">Password transformation class&nbsp;<img class="balloonIcon" src="$context/assets/images/balloon_icon.png" alt="#"/></p>
            <input class="input" type="text" id="transformationClass" name="transformationClass"/><br />

        </div>
        <div class="subbody">
            <button type="button" value="Cancel" onClick="javascript:cancel();">Cancel</button>&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" value="addStore" onClick="addStore();">ADD THIS STORE</button>
        </div>
        </form>
    </div>
</div>
<div id="addStore" style="visibility:hidden"></div>