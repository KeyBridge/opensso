<script type="text/javascript">

    function ${type}StoreServerValidated( response ) {
        storeServerValidated( '$type', response );
    }
    function ${type}StoreBaseDNValidated( response ) {
        storeBaseDNValidated('$type', response );
    }
    function ${type}StoreLoginIdValidated( response ) {
        storeLoginIdValidated( '$type', response );
    }

    function validate${type}StoreServer() {
        validateStoreServer('$type');
    }
    function validate${type}StoreBaseDN() {
        validateStoreBaseDN('$type');
    }
    function validate${type}StoreLoginId() {
        validateStoreLoginId('$type');
    }

    function step${pageNum}Init() {
        if ( $usingCustomStore ) {
            enableCustomConfig('$type');
            validateStore('$type');
        }
    }
    YAHOO.util.Event.onDOMReady(step${pageNum}Init);

</script>

<h1>Step 4: User Store Settings<img class="pointer" src="$context/assets/images/message.gif"/></h1>
<p>Select the configuration option you would like to use. Choose external to use an existing user source.</p>

<input type="radio" id="${type}StoreDefault" name="${type}StoreCustom" style="margin-left:1em" value="false" #if ( !$usingCustomStore ) checked="checked" #{end} onclick="disableCustomConfig('$type');"/>
<span>Embeded</span><br/>
<input type="radio" id="${type}StoreCustom" name="${type}StoreCustom" style="margin-left:1em" value="true" #if ( $usingCustomStore ) checked="checked" #{end}onclick="enableCustomConfig('$type');"/>
<span>External Store</span>

<div id="userStoreSameAsConfigStoreDiv" style="display:none">
    <input type="checkbox" name="userStoreSameAsConfigStore" style="margin-left:2em" onclick="copyConfigStoreFieldsToUserStoreFields();"/><span style="font-size:smaller">Same as the Configuration Store</span>
</div>


<div id="${type}StoreModule" style="width:570px; display:none">
    <p id="allfields" class="OrangeVerySmall">*&nbsp;ALL Fields are Required</p>
    <b class="xtop"><b class="xt1"></b><b class="xt2"></b><b class="xt3"></b><b class="xt4"></b></b>
	<div class="headerBox" style="margin-left:10px">User Store Details</div>
    <div class="bodyBox" style="height:230px;margin-left:10px">	
        <fieldset id="${type}StoreFieldset" style="padding:0px; margin-top:-80px">
            <ol>
                <li class="beginChunk">
                    <label for="${type}StoreHost">Directory Host Name<em>*</em></label>
                    <input id="${type}StoreHost" name="${type}StoreHost" type="text" class="text" style="width:150px" value="#if($store.hostName)$store.hostName#{end}" onkeyup="APP.callDelayed(this, validate${type}StoreServer )"/>
                    <span id="${type}StoreHostStatus"></span>
                </li>
                <li>
                    <label for="${type}StorePort">Port<em>*</em></label>
                    <input id="${type}StorePort" name="${type}StorePort" type="text" class="text" style="width:40px" value="$store.hostPort" onkeyup="APP.callDelayed(this, validate${type}StoreServer )"/>
                </li>
                <li class="endChunk">
                    <label for="${type}StoreSecurePort">Is this a secure port?<em>*</em></label>
                    <input id="${type}StoreSecurePortNo" name="${type}StoreSecurePort" type="radio" value="false" #if ( !$store.hostPortSecure ) checked="checked" #{end}onclick="enableStandardPort('$type'); validate${type}StoreServer();"/><span>No</span>
                    <input id="${type}StoreSecurePortYes" name="${type}StoreSecurePort" type="radio" value="true" #if ( $store.hostPortSecure ) checked="checked" #{end}onclick="enableSecurePort('$type'); validate${type}StoreServer();"/><span>Yes</span>
                </li>
                <li class="singleChunk">
                    <label for="${type}StoreBaseDN">Directory Base DN<em>*</em></label>
                    <input id="${type}StoreBaseDN" name="${type}StoreBaseDN" type="text" class="text" style="width:150px" value="#if($store.baseDN)$store.baseDN#{end}" onkeyup="APP.callDelayed(this, validate${type}StoreBaseDN )"/>
                    <span id="${type}StoreBaseDNStatus"></span>
                </li>
                <li class="beginChunk">
                    <label for="${type}StoreLoginId">Directory Login ID<em>*</em></label>
                    <input id="${type}StoreLoginId" name="${type}StoreLoginId" type="text" class="text" style="width:150px" value="#if($store.username)$store.username#{end}" onkeyup="APP.callDelayed(this, validate${type}StoreLoginId )"/>
                    <span id="${type}StoreLoginIdStatus"></span>
                </li>
                <li>
                    <label for="${type}StorePassword">Directory Password<em>*</em></label>
                    <input id="${type}StorePassword" name="${type}StorePassword" type="password" class="text" style="width:150px" value="#if($store.password)$store.password#{end}" onkeyup="APP.callDelayed(this, validate${type}StoreLoginId )"/>
                </li>
            </ol>
        </fieldset>
    </div>
	<div style="margin-left:10px"><b class="xbottom"><b class="xbGray1"></b><b class="xbGray2"></b><b class="xbGray3"></b><b class="xbGray4"></b></b></div>
</div>

