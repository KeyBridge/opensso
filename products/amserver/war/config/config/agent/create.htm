<script type="text/javascript">

    YAHOO.namespace("sun.identity.config.agent");

    //convenient alias:
    var $ = YAHOO.util.Dom.get;

    function mostrar( type, element, name ) {
        $(name).style.display = (type == 1) ? "none" : "";
        $(name).style.left = element.offsetLeft + "px";
    }

    function cancel() {
        document.location = "$context/commonTasks.htm";
    }
    function confAgent() {
        AjaxUtils.load('container', '$context/config/agent/created.htm');
    }
    function changeselectAgent() {
        if ( $("selectAgent").options[$("selectAgent").selectedIndex].value == "0" )
            $("btnAdd").disabled = true;
        else
            $("btnAdd").disabled = false;
    }
    function partGroup() {
        $("optionYes").style.display = $("yes").checked ? "" : "none";
    }

    function show( elId ) {
        $(elId).style.display = "";
    }

    function hide( elId ) {
        $(elId).style.display = "none";
    }

    function showAddGroupDialog() {
        $('addGroupDialog').style.display = "";
    }

    function showAddProfileDialog() {
        $('addProfileDialog').style.display = "";
    }

    function handleAddGroupSubmit() {
        alert("Submitted!");
        YAHOO.sun.identity.config.agent.addGroupDialog.hide();

    }
    function handleAddGroupCancel() {
        YAHOO.sun.identity.config.agent.addGroupDialog.hide();
    }

    function handleAddProfileSubmit() {
        alert("Submitted!");
        YAHOO.sun.identity.config.agent.addProfileDialog.hide();
    }
    function handleAddProfileCancel() {
        YAHOO.sun.identity.config.agent.addProfileDialog.hide();
    }

    function pageInit() {
        YAHOO.sun.identity.config.agent.addGroupDialog = new YAHOO.widget.Dialog("addGroupDialog",
        {
            width : "300px",
            fixedcenter : true,
            visible : false,
            constraintoviewport : true,
            buttons : [
            { text:"Cancel", handler:handleAddGroupCancel },
            { text:"Submit", handler:handleAddGroupSubmit, isDefault:true } ]
        });

        // Render the Dialog
        YAHOO.sun.identity.config.agent.addGroupDialog.render();

        YAHOO.util.Event.addListener("addGroupLink", "click", YAHOO.sun.identity.config.agent.addGroupDialog.show, YAHOO.sun.identity.config.agent.addGroupDialog, true);

        YAHOO.sun.identity.config.agent.addProfileDialog = new YAHOO.widget.Dialog("addProfileDialog",
        {
            width : "300px",
            fixedcenter : true,
            visible : false,
            constraintoviewport : true,
            buttons : [
            { text:"Cancel", handler:handleAddProfileCancel },
            { text:"Submit", handler:handleAddProfileSubmit, isDefault:true } ]
        });

        // Render the Dialog
        YAHOO.sun.identity.config.agent.addProfileDialog.render();

        YAHOO.util.Event.addListener("addProfileLink", "click", YAHOO.sun.identity.config.agent.addProfileDialog.show, YAHOO.sun.identity.config.agent.addProfileDialog, true);


    }
    YAHOO.util.Event.onDOMReady(pageInit);

</script>
<style type="text/css">
    .links {
        width: 200px;
        text-align: right;
    }

    .input {
        width: 200px;
    }

    .actions {
        padding: 10px 0 10px 100px;
    }
</style>

<div id="mainPanel" align="center">
    <div id="createPanel" class="createpanel">
        <br/>

        <div class="bodywhite">
            <h2>Configure an Agent</h2>
            <small>Si quaedam nimis antique, si peraque dure dicere credit eos, ignave multa fatetur, et sapit et mecum facit et Iova iudicat aequo.</small>
        </div>
        <br/>

        <div class="bodywhite">
            <p>Select the agent type.<br/>
                <select id="selectAgent" style="width:200px" onchange="changeselectAgent();">
                    <option value="0">Select ...</option>
                    <option value="1">Web Agents</option>
                    <option value="2">Sun Java System Web Server</option>
                    <option value="3">Sun Java System Web Proxy Server</option>
                    <option value="4">Apache Web Server</option>
                    <option value="5">IBM Lotus Domino</option>
                    <option value="6">Microsoft Internet Information Service (IIS)</option>
                    <option value="7">JAVA EE Agents</option>
                    <option value="8">Sun Java System Application Server (Glassfish)</option>
                    <option value="9">Apache Tomcat</option>
                    <option value="10">BEA Weblogic Server</option>
                    <option value="11">IBM Websphere Application Server</option>
                    <option value="12">JBoss Application Server</option>
                    <option value="13">Oracle Application Server</option>
                    <option value="14">SAP Web Application Server/Enterprise Portal</option>
                    <option value="15">Web Services Agents</option>
                    <option value="16">Web Service Consumer</option>
                    <option value="17">Web Service Provider</option>
                </select>
            <p>
            <p class="OrangeSmall">Will this agent be part of a group?</p>
            <input type="radio" id="yes" name="partgroup" onclick="partGroup();"/>Yes&nbsp;&nbsp;
            <input type="radio" id="no" name="partgroup" onclick="partGroup();" checked="checked"/>No<br><br>

            <div id="optionYes" style="display:none">

                #if ( $groups.empty )
                <p class="OrangeSmall">Add a New Group</p>
                #else
                <p class="OrangeSmall">Select a group or create a new one</p>
                <select style="width:200px">
                    #foreach ( $group in $groups )
                    <option value="$group">$group</option>
                    #end
                </select>
                #end

                <div class="actions">#if ( !$groups.empty )<a id="deleteGroupLink">Delete</a> | #{end}<a id="addGroupLink">Add New</a></div>

                <div id="addGroupDialog" style="visibility:hidden">
                    <div class="hd">Add new Group</div>
                    <div class="bd">
                        <p id="groupNameStatus" class="OrangeVerySmall" style="display:none">Validation msg here</p>

                        <form method="POST" action="create.htm">
                            <label for="groupName">Group Name:</label><input id="groupName" type="text" name="groupName"/>
                        </form>
                    </div>
                </div>

                <br/>

                <p class="OrangeSmall">Select an agent profile or create a new one</p>
                <select style="width:200px;"></select>

                <div class="actions"><a id="deleteProfileLink">Delete</a> | <a id="addProfileLink">Add New</a></div>

                <div id="addProfileDialog" style="visibility:hidden">
                    <div class="hd">Add new Profile</div>
                    <div class="bd">
                        <p id="profileNameStatus" class="OrangeVerySmall" style="display:none">Validation msg here</p>

                        <form method="POST" action="create.htm">
                            <label for="profileName">Profile Name:</label><input id="profileName" type="text" name="profileName"/>
                        </form>
                    </div>
                </div>

            </div>

        </div>

        <div class="bodywhite">
            <div class="middletitle OrangeSmall">Password</div>
            <div class="OrangeVerySmall" id="allfields">* ALL Fields are Required</div>
            <br/>
            <p>Password: <input class="input" type="password" id="pass1" name="pass1"></p>
            <p>Confirm: &nbsp;&nbsp; <input class="input" type="password" id="pass2" name="pass2"></p>

            <p class="OrangeSmall">Agent Server URL:<br/>
                <input class="input" type="text" id="url" name="url"></p>
            <p class="blue links"><a class="pointer">Check URL</a></p>

            <p class="OrangeSmall">Agent Notification URL (optional):<br/>
                <input class="input" type="text" id="notificationUrl" name="notificationUrl"></p>
            <p class="blue links"><a class="pointer">Check URL</a></p>
        </div>
        <div class="subbody">
            <button type="button" value="Cancel" onClick="javascript:cancel();">Cancel</button>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <button id="btnAdd" type="button" value="addStore" onClick="javascript:confAgent();" disabled="disabled">Configure Agent</button>
        </div>

    </div>

</div>
