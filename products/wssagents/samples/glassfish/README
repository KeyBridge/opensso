README
=======

This README explains the steps for web services security using glassfish
security agents. 

Before you begin:
================

The web services security for JAX-WS based web services is achieved using
JSR196 providers. Before you begin, follow the README.common and 
README.glassfish from the install directory of the zip file to configure the 
JSR 196 providers(also known as JMAC Providers) and necessary federation
access manager runtime components. You can configure FAM JSR196 providers
as the default security providers in Glassfish environment. 

Steps for making FAM JSR 196 providers as default: 

i) Go to Glassfish administration console

ii) From left navigation frame, click on Configuration->Security->Message
    Security-> SOAP
 
iii) Select Default Provider as FAMServerProvider and Default Client
    Provider as FAMClientProvider.

iv) Save the configuration. 


General Description: 
====================

The samples provided here are JAX-WS based web service and a web services
client. The sample demonstrates a simple stock quote service where given
a stock ticker symbol it obtains stock data. The secure communication
between stock quote web services client is achieved using Federation
Access Manager web services security agents. The web services security
agents profile configuation is stored in backend repository information
like regular FAM agents. 

Deployment of samples:
=====================

To configure for web services security, essentially there are two steps
besides configuring the providers as mentioned above (Before you begin
section).
 

I. Deploy the samples

   The samples here are provided with convenient "ant" build script to
   build and deploy the samples. This sample comes with two directories
   StockQuoteClient and StockService which are for the web services client
   and web service respectively. Also, it has a file name called as 
   glassfish.properties. 

   1. Open glassfish.properties and set the correct path for glassfish.home

   2. Make sure that JAVA_HOME is set to JDK1.5 installation and similarly
      make sure java and javac are in the PATH you are executing it.

   3. cd StockQuoteClient and run "ant -f build.xml". This will build
      and deploy the StockQuoteClient onto glassfish container.

   4. cd StockService and run "ant -f build.xml". This will build
      and deploy the StockService onto glassfish container.


II. Run the sample

  1. Access the stock quote client page.

     http://<host>:<port>/StockQuoteClient/index.jsp

  2. Enter "JAVA" as stock ticker symbol and click "Get Quote".

  3. If successful, this will display the stock values.
